% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_models_by_group.R
\name{fit_models_by_group}
\alias{fit_models_by_group}
\title{Fit Linear Models Across Outcomes and Groups}
\usage{
fit_models_by_group(
  data,
  outcomes,
  base_predictors,
  group_col = NULL,
  groups = "All",
  model_type = "main",
  interaction_terms = NULL,
  outcome_covariates = NULL,
  group_covariates = NULL
)
}
\arguments{
\item{data}{A data frame containing the variables for analysis}

\item{outcomes}{Character vector of outcome variable names to model}

\item{base_predictors}{Character vector of predictor variable names to include in all models}

\item{group_col}{Character string specifying the grouping column name.
If NULL, no grouping is applied and output will have a "group" column. Default is NULL}

\item{groups}{Character vector specifying which groups to analyze. Use "All" for all data. Default is "All"}

\item{model_type}{Character string: "main" or "interaction". Default is "main"}

\item{interaction_terms}{Character vector of interaction terms when model_type = "interaction"}

\item{outcome_covariates}{Optional outcome-specific covariates. Can be:
\itemize{
\item Standard: list(outcome1 = c("X1", "X2"))
\item Group-specific: list(group1 = list(Y1 = c("X2")))
}}

\item{group_covariates}{Optional group-specific covariates: list(group1 = c("X1"))}
}
\value{
A tibble with columns: outcome, (group_col name or "group"), model, predictors,
model_equation, model_res (tidy results), model_obj (model object), dataf (analysis data),
n_obs. The grouping column will be named according to the \code{group_col} parameter,
or "group" if group_col is NULL.
}
\description{
Fits linear models for multiple outcomes across different groups with flexible
covariate specifications. This function is specifically designed for linear regression
and uses lm() internally.
}
\details{
This function fits linear models using lm() only. For logistic regression,
mixed models, or other model types, use appropriate specialized functions.
}
\examples{
\dontrun{
# Basic usage with ancestry grouping
results <- fit_models_by_group(
  data = my_data,
  outcomes = c("memory", "attention"),
  base_predictors = c("age", "sex"),
  group_col = "ancestry",
  groups = c("AFR", "EUR")
)

# Access the ancestry column
results$ancestry

# Without grouping (uses all data)
results <- fit_models_by_group(
  data = my_data,
  outcomes = c("memory", "attention"),
  base_predictors = c("age", "sex"),
  groups = "All"
)
# Output will have a "group" column with value "All"

# With group-specific outcome covariates
results <- fit_models_by_group(
  data = my_data,
  outcomes = c("memory"),
  base_predictors = c("age", "sex"),
  group_col = "superpop",
  groups = c("AFR", "EUR"),
  outcome_covariates = list(
    "AFR" = list("memory" = c("education")),
    "EUR" = list("memory" = c("education", "language"))
  )
)
# Output will have a "superpop" column
}
}
