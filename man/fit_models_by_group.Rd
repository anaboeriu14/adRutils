% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_models_by_group.R
\name{fit_models_by_group}
\alias{fit_models_by_group}
\title{Fit Linear Models Across Outcomes and Groups}
\usage{
fit_models_by_group(
  data,
  outcomes,
  base_predictors,
  group_col = NULL,
  groups = "All",
  model_type = "main",
  interaction_terms = NULL,
  outcome_covariates = NULL,
  group_covariates = NULL,
  verbose = FALSE
)
}
\arguments{
\item{data}{A data frame containing the variables for analysis}

\item{outcomes}{Character vector of outcome variable names to model}

\item{base_predictors}{Character vector of predictor variable names to include in all models}

\item{group_col}{Character string specifying the grouping column name.
If NULL, no grouping is applied. Default is NULL}

\item{groups}{Character vector specifying which groups to analyze. Use "All" for all data. Default is "All"}

\item{model_type}{Character string: "main" or "interaction". Default is "main"}

\item{interaction_terms}{Character vector of interaction terms when model_type = "interaction"}

\item{outcome_covariates}{Optional outcome-specific covariates. Can be:
\itemize{
\item Standard: list(outcome1 = c("X1", "X2"))
\item Group-specific: list(group1 = list(Y1 = c("X2")))
}}

\item{group_covariates}{Optional group-specific covariates: list(group1 = c("X1"))}

\item{verbose}{Logical. If TRUE, shows progress during model fitting. Default is FALSE}
}
\value{
A tibble with columns: outcome, (group_col name or "group"), model, predictors,
model_equation, model_res (tidy results), model_obj (model object), dataf (analysis data),
n_obs. The grouping column will be named according to the \code{group_col} parameter,
or "group" if group_col is NULL.
}
\description{
Fits linear models for multiple outcomes across different groups with flexible
covariate specifications. This function is specifically designed for linear regression
and uses lm() internally.
}
\details{
This function fits linear models using lm() only. It calls
\code{\link{fit_single_lm}} internally for each outcome-group combination.
}
\examples{
\dontrun{
# Basic usage with ancestry grouping
results <- fit_models_by_group(
  data = my_data,
  outcomes = c("memory", "attention"),
  base_predictors = c("age", "sex"),
  group_col = "ancestry",
  groups = c("AFR", "EUR")
)

# With outcome-specific covariates
results <- fit_models_by_group(
  data = my_data,
  outcomes = c("memory", "attention"),
  base_predictors = c("age", "sex"),
  outcome_covariates = list(
    memory = c("education"),
    attention = c("language")
  )
)

# With group-specific outcome covariates
results <- fit_models_by_group(
  data = my_data,
  outcomes = c("memory"),
  base_predictors = c("age", "sex"),
  group_col = "ancestry",
  groups = c("AFR", "EUR"),
  outcome_covariates = list(
    AFR = list(memory = c("education")),
    EUR = list(memory = c("education", "language"))
  )
)

# With progress reporting
results <- fit_models_by_group(
  data = my_data,
  outcomes = paste0("cog_", 1:20),
  base_predictors = c("age", "sex"),
  group_col = "ancestry",
  groups = c("AFR", "EUR", "EAS"),
  verbose = TRUE
)
}
}
\seealso{
\code{\link{fit_single_lm}} for fitting individual models
}
